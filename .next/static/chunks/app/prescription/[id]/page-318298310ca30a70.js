(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{3425:(e,t,a)=>{Promise.resolve().then(a.bind(a,1456))},7401:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:p,...u}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:i?24*Number(d)/Number(s):d,className:l("lucide",o),...u},[...p.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:i,...o}=a;return(0,r.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(s(e)),i),...o})});return a.displayName="".concat(e),a}},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},8204:(e,t,a)=>{"use strict";a.d(t,{T:()=>s});var r=a(2651);let s=async(e,t,a,s,l)=>{let n=localStorage.getItem("userToken"),d={method:e,url:t,headers:{},data:a};"admin"==l?d.headers.Authorization="dsdsd":"user"==l&&(d.headers.Authorization=n),s?d.headers["Content-Type"]="multipart/form-data":d.headers["Content-Type"]="application/json";try{return await (0,r.A)(d)}catch(e){return e}}},3802:(e,t,a)=>{"use strict";a.d(t,{C:()=>r});let r="https://hms.thedigitechsolutions.com"},5097:(e,t,a)=>{"use strict";a.d(t,{Hd:()=>g,zl:()=>y,vk:()=>N,Ay:()=>v,Dk:()=>j,Xj:()=>x,YX:()=>f,un:()=>w,Z6:()=>C});var r=a(8943),s=a(8204),l=a(3802);let n=async(e,t)=>await (0,s.T)("POST","".concat(l.C,"/api/patients"),e,t,""),d=async(e,t)=>await (0,s.T)("GET","".concat(l.C,"/api/patients"),"",t,""),i=async(e,t)=>await (0,s.T)("DELETE","".concat(l.C,"/api/patients/").concat(e),"",t,""),o=async(e,t)=>await (0,s.T)("PUT","".concat(l.C,"/api/patients/").concat(e),"",t,""),c=async(e,t)=>await (0,s.T)("POST","".concat(l.C,"/api/appointments"),e,t,""),p=async(e,t)=>await (0,s.T)("GET","".concat(l.C,"/api/appointments"),e,t,""),u=async(e,t)=>await (0,s.T)("GET","".concat(l.C,"/api/prescriptions"),e,t,""),m=async(e,t)=>await (0,s.T)("PATCH","".concat(l.C,"/api/waiting-rooms/").concat(e,"/complete"),e,t,"");var h=a(5037);let y=(0,r.zD)("register",async e=>{try{console.log(e);let t=await n(e);if(200===t.status)return h.Ay.success("patient registration successful"),t.data;return t.data}catch(e){throw console.log(e),e}}),f=(0,r.zD)("getallpatients",async()=>{try{let e=await d();if(200===e.status)return e.data}catch(e){throw console.log(e),e}}),g=(0,r.zD)("appointment/addAppointment",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await c(e)).data}catch(e){return a(e.response.data)}}),x=(0,r.zD)("getallappointments",async()=>{try{let e=await p();if(200===e.status)return e.data;console.log("Error while fetching appointments")}catch(e){throw console.log(e),e}}),w=(0,r.zD)("patientsprescription",async()=>{try{let e=await u();if(200===e.status)return e.data;console.log("Error while fetching prescriptions")}catch(e){throw console.log(e),e}}),j=(0,r.zD)("deletepatient",async e=>{try{let t=await i(e);if(200===t.status)return h.Ay.success("Patient deleted"),"Patient deleted";return h.Ay.success("patient deleted successfully"),"Failed to delete patient"}catch(e){throw console.log(e),e}}),C=(0,r.zD)("updatepatient",async e=>{try{let t=await o(e);if(200===t.status)return h.Ay.success("Patient updated"),"Patient updated";return h.Ay.success("patient updation successfully"),"Failed to update patient"}catch(e){throw console.log(e),e}}),N=(0,r.zD)("completePatient",async e=>{try{let t=await m(e);if(200===t.status)return h.Ay.success("Patient consultation completed"),t.data;return h.Ay.success("Failed to complete consultation"),"Failed to complete consultation"}catch(e){throw console.log(e),e}}),v=(0,r.Z0)({name:"Patientslice",initialState:{registerpatient:[],allpatients:[],deletepatient:[],update:[],appointment:[],getappointments:{appointments:[],error:null},prescriptions:[],complete:[],error:null,loader:!1},reducers:{},extraReducers:e=>{e.addCase(y.pending,e=>{e.loader=!0}).addCase(y.fulfilled,(e,t)=>{e.loader=!1,e.registerpatient=[t.payload]}).addCase(y.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(f.pending,e=>{e.loader=!0}).addCase(f.fulfilled,(e,t)=>{e.loader=!1,e.allpatients=t.payload}).addCase(f.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(j.pending,e=>{e.loader=!0}).addCase(j.fulfilled,(e,t)=>{e.loader=!1,e.deletepatient=[t.payload]}).addCase(j.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(g.pending,e=>{e.loader=!0}).addCase(g.fulfilled,(e,t)=>{e.loader=!1,e.appointment=[t.payload]}).addCase(g.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(x.pending,e=>{e.loader=!0}).addCase(x.fulfilled,(e,t)=>{e.loader=!1,e.getappointments=t.payload}).addCase(x.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(w.pending,e=>{e.loader=!0}).addCase(w.fulfilled,(e,t)=>{e.loader=!1,e.prescriptions=t.payload}).addCase(w.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(C.pending,e=>{e.loader=!0}).addCase(C.fulfilled,(e,t)=>{e.loader=!1,e.update=[t.payload]}).addCase(C.rejected,(e,t)=>{e.loader=!1,e.error=t.payload}).addCase(N.pending,e=>{e.loader=!0}).addCase(N.fulfilled,(e,t)=>{e.loader=!1,e.complete=[t.payload]}).addCase(N.rejected,(e,t)=>{e.loader=!1,e.error=t.payload})}}).reducer},1456:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115);let l=(0,a(7401).A)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var n=a(6046),d=a(3391),i=a(5097),o=a(1498);let c=()=>{let[e,t]=(0,s.useState)(null),[a,c]=(0,s.useState)(!0),p=(0,o.j)(),{prescriptions:u}=(0,d.d4)(e=>e.Patient),{id:m}=(0,n.useParams)();if(console.log("pre",null==u?void 0:u.prescriptions),(0,s.useEffect)(()=>{p((0,i.un)())},[p]),(0,s.useEffect)(()=>{if((null==u?void 0:u.prescriptions)&&m){if(isNaN(parseInt(m,10)))console.error("Invalid appointment ID");else{let e=u.prescriptions.filter(e=>e.appointment_id==m);e.length>0&&t(e[0])}}},[u,m]),(0,s.useEffect)(()=>{let e=setTimeout(()=>c(!1),2e3);return()=>clearTimeout(e)},[]),a)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});if(!u)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"No prescriptions found."});let h=null,y=null;if(e)try{h=JSON.parse(e.prescription_details),y=parseInt(e.appointment.patient.dob.slice(0,4),10)}catch(e){console.error("Error parsing prescription details:",e)}return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,r.jsxs)("div",{className:"max-w-[800px] mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative bg-emerald-100 p-8",children:[(0,r.jsxs)("h1",{className:"text-xl font-bold text-gray-800",children:["Digitech ",(0,r.jsx)("span",{className:"text-emerald-500",children:"CHOICE"})," CLINIC"]}),(0,r.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Dr. ",h["Doctor Name"]]})]}),(0,r.jsxs)("div",{className:"p-8 pt-5",children:[(0,r.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"NAME OF PATIENT"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-emerald-50 rounded",children:h["Patient Name"]})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Appointment ID"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-emerald-50 rounded",children:e.appointment_id})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"AGE"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-emerald-50 rounded",children:new Date().getFullYear()-y})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"ADDRESS"}),(0,r.jsx)("div",{className:"mt-1 p-2 bg-emerald-50 rounded",children:e.appointment.patient.address})]}),(0,r.jsx)("div",{className:"h-80"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"signature"}),(0,r.jsx)("div",{className:"w-1/3 border-b border-gray-700 mt-5"})]})]}),(0,r.jsx)("div",{className:"mt-5 pt-8 text-center",children:(0,r.jsxs)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md",onClick:()=>{window.print()},children:[(0,r.jsx)(l,{className:"inline-block w-5 h-5 mr-2"}),"Print"]})})]})]})})}},1498:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});let r=a(3391).wA}},e=>{var t=t=>e(e.s=t);e.O(0,[240,441,517,358],()=>t(3425)),_N_E=e.O()}]);